(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{5602:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(5603),i=n.n(o);e.a=function(){return a.a.createElement("div",{className:i.a.Loader},"Loading...")}},5603:function(t,e,n){t.exports={Loader:"Spinner_Loader__Kn1Z5",load2:"Spinner_load2__otO50"}},5604:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"j",function(){return u}),n.d(e,"a",function(){return l}),n.d(e,"i",function(){return s}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"d",function(){return m}),n.d(e,"c",function(){return d}),n.d(e,"f",function(){return p}),n.d(e,"e",function(){return v});var r=n(9),a=function(t){return{type:t}},o=function(t){return{type:t,value:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}},i=function(){return{type:r.b}},c=function(t){return{type:t}},u=function(){return{type:r.r}},l=function(t,e){return function(n){n(a(r.a));var o="https://soup-kitchen-8a966.firebaseio.com/inventory.json?auth=".concat(e);fetch(o,{method:"POST",body:JSON.stringify(t)}).then(function(t){return t.json()}).then(function(t){n(a(r.d))}).catch(function(t){n(a(r.c))})}},s=function(t,e,n){return function(a){a(c(r.q));var o="https://soup-kitchen-8a966.firebaseio.com/inventory/".concat(n,".json?auth=").concat(e);fetch(o,{method:"PATCH",body:JSON.stringify(t)}).then(function(t){return t.json()}).then(function(t){a(c(r.t))}).catch(function(t){a(c(r.s))})}},h=function(t,e){return{type:t,value:e}},f=function(t,e,n){return n=Number(n),function(a){var o="https://soup-kitchen-8a966.firebaseio.com/inventory/".concat(t,"/.json?auth=").concat(e);fetch(o,{method:"PATCH",body:JSON.stringify({quantity:n})}).then(function(t){}).catch(function(e){a(h(r.p,t))})}},m=function(t,e,n){return n=Number(n),function(a){var o="https://soup-kitchen-8a966.firebaseio.com/inventory/".concat(t,"/.json?auth=").concat(e);fetch(o,{method:"PATCH",body:JSON.stringify({quantity:n})}).then(function(t){}).catch(function(e){a(h(r.p,t))})}},d=function(t,e){return{type:t,value:e}},p=function(t,e){return function(n){n(o(r.l));var a="?auth=".concat(t,'&orderBy="userId"&equalTo="').concat(e,'"'),i="https://soup-kitchen-8a966.firebaseio.com/inventory.json".concat(a);fetch(i).then(function(t){return t.json()}).then(function(t){var e=Object.entries(t);n(o(r.n,e))}).catch(function(t){return n(o(r.m))})}},y=function(t,e){return{type:t,value:e}},v=function(t,e){return function(n){var a="https://soup-kitchen-8a966.firebaseio.com/inventory/".concat(t,".json?auth=").concat(e);fetch(a,{method:"DELETE"}).then(function(e){n(y(r.j,t))}).catch(function(e){n(y(r.k,t))})}}},5606:function(t,e,n){"use strict";n.r(e);var r=n(97),a=n(157),o=n(33),i=n(34),c=n(36),u=n(35),l=n(37),s=n(0),h=n.n(s),f=n(18),m=n(13),d=n(24),p=n(96),y=n(53),v=n(5604),g=n(5602),b=function(t){function e(){var t,n;Object(o.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(a)))).state={filters:["","utensils","fruit","vegetables","cereal","meat","grain","liquid","spice","equipment"],currentFilter:"",query:""},n.handleFilter=function(t,e){n.setState({currentFilter:e.toLowerCase()})},n.handleSearch=function(t){n.setState({query:t.target.value})},n.viewItem=function(t){n.props.history.push("/viewItem/".concat(t))},n}return Object(l.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.onFetchInventory(this.props.auth.idToken,this.props.auth.localId)}},{key:"render",value:function(){var t=this,e=this.props.classes,n=null,o=new RegExp("".concat(this.state.currentFilter),"gi"),i=new RegExp("".concat(this.state.query),"gi"),c=null;return this.props.inventory&&0===this.props.inventory.length&&(n=h.a.createElement(f.r,{align:"center",variant:"h4",color:"secondary"},"Your inventory is empty start adding items by navigating to the add Inventory Page")),this.props.error&&(n=h.a.createElement(f.r,{align:"center",variant:"h4",color:"secondary"},"A network error Occured")),this.props.inventory&&(c=Object(a.a)(this.props.inventory)),this.state.currentFilter&&(c=c.filter(function(t){var e=Object(r.a)(t,2),n=(e[0],e[1]);return o.test(n.category)})),this.state.query&&(c=c.filter(function(t){var e=Object(r.a)(t,2),n=(e[0],e[1]);return o.test(n.category)&&i.test(n.item_name)})),this.props.loading&&(n=h.a.createElement(g.a,null)),c&&0!==c.length&&(n=c.map(function(n){var a=Object(r.a)(n,2),o=a[0],i=a[1];return h.a.createElement(f.j,{key:o,item:!0,xs:12,sm:6,md:3,lg:3},h.a.createElement(f.c,{className:e.card},h.a.createElement(f.d,{onClick:function(){return t.viewItem(o)}},h.a.createElement(f.g,{component:"img",alt:i.item_name,className:e.media,image:i.image_url?i.image_url:"/assets/placeholder.png",title:"Food"}),h.a.createElement(f.f,null,h.a.createElement(f.r,{gutterBottom:!0,variant:"h5",component:"h2"},i.item_name),h.a.createElement(f.r,{component:"p"},"Quantity ",h.a.createElement("strong",null,i.quantity," ",i.unit)))),h.a.createElement(f.e,null,h.a.createElement(f.b,{component:d.b,to:"/editItem/".concat(o),size:"small",color:"secondary"},h.a.createElement(p.d,null),"Edit"),h.a.createElement(f.b,{size:"small",color:"secondary",onClick:function(){return t.props.onDeleteInventory(o,t.props.auth.idToken)}},h.a.createElement(p.c,null),"Delete"),t.props.deleteInventoryFail?h.a.createElement(f.r,{variant:"body1"},"Delete failed tryagain"):"")))})),h.a.createElement(h.a.Fragment,null,h.a.createElement(f.j,{container:!0,justify:"space-around",direction:"row",alignItems:"center"},this.state.filters.map(function(n){return h.a.createElement(f.b,{component:"button",key:n,variant:"outlined",color:"default",onClick:function(e){return t.handleFilter(e.target,n)},classes:t.state.currentFilter.toUpperCase()===n.toUpperCase()?{label:e.activeFilter}:{label:""}},n||"all")})),h.a.createElement(f.j,{container:!0,justify:"center",direction:"row",alignItems:"center"},h.a.createElement(f.o,{xs:12,sm:6,md:6,lg:6,className:e.root,elevation:1},h.a.createElement(f.l,{value:this.state.query,onChange:function(e){return t.handleSearch(e)},className:e.input,placeholder:"Search Inventory by name"}),h.a.createElement(f.h,{className:e.divider}),h.a.createElement(f.k,{className:e.iconButton,"aria-label":"Search Inventory by name"},h.a.createElement(p.f,null)))),n)}}]),e}(s.Component);e.default=Object(y.b)(function(t){return{inventory:t.inventory.inventory,loading:t.inventory.loading,error:t.inventory.error,deleteInventoryFail:t.inventory.deleteInventoryFail,auth:t.auth}},function(t){return{onFetchInventory:function(e,n){return t(v.f(e,n))},onDeleteInventory:function(e,n){return t(v.e(e,n))}}})(Object(m.withStyles)(function(t){return{card:{width:"100%"},media:{height:140,objectFit:"cover"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4},activeFilter:{color:t.palette.secondary.light}}})(b))}}]);
//# sourceMappingURL=7.8636ca6d.chunk.js.map